System.register(["./index-legacy-CZS5_bp_.js","./use-app-legacy-BFMhJiqn.js","./use-component-status-legacy-ByGCYcDR.js"],function(e,t){"use strict";var n,r,a,i,o,d,c,s,g,m,p,l,I,f,u,C,x,y;return{setters:[e=>{n=e.d,r=e.i,a=e.u,i=e.e,o=e.o,d=e.g,c=e.f,s=e.n,g=e.j,m=e.k,p=e.w,l=e.c,I=e.F,f=e.b,u=e.C},e=>{C=e.u,x=e.r},e=>{y=e.u}],execute:function(){const t=n({name:"tmagic-iterator-container-item",__name:"IteratorItem",props:{config:{},iteratorIndex:{},iteratorContainerId:{},containerIndex:{},pageFragmentContainerId:{},index:{},model:{}},setup(e){const t=e,n=r("app"),m=a({componentType:"container",app:n}),{style:p,className:l}=y(t);return(t,n)=>(o(),i(d(c(m)),{style:g(c(p)),class:s(c(l)),config:e.config,"iterator-index":e.iteratorIndex,"iterator-container-id":e.iteratorContainerId,"page-fragment-container-id":e.pageFragmentContainerId},null,8,["style","class","config","iterator-index","iterator-container-id","page-fragment-container-id"]))}});e("default",n({name:"tmagic-iterator-container",__name:"IteratorContainer",props:{config:{},iteratorIndex:{},iteratorContainerId:{},containerIndex:{},pageFragmentContainerId:{},model:{},disabled:{type:Boolean}},setup(e){const n=e,{app:r,node:a}=C(n);x(a);const d=m(()=>{let{iteratorData:e=[]}=n.config;const{itemConfig:t,dsField:a,items:i}=n.config;return Array.isArray(e)||(e=[]),"editor"!==r?.platform||e.length||e.push({}),e.map(e=>{const n="editor"===r?.platform||(r?.dataSourceManager?.compliedIteratorItemConds(e,t,a)??!0);return{items:r?.dataSourceManager?.compliedIteratorItems(e,i,a)??i,condResult:n,style:{position:"relative",left:0,top:0,...t.style}}})});p(d,e=>{if(!n.config.id)return;const t=r?.getNode(n.config.id,{iteratorContainerId:n.iteratorContainerId,iteratorIndex:n.iteratorIndex,pageFragmentContainerId:n.pageFragmentContainerId});t&&(t.resetNodes(),e.forEach((e,n)=>{t.setNodes(e.items,n)}))},{immediate:!0});const c=()=>{r&&a&&r.emit(`${u}click`,a)};return(n,r)=>(o(),l("div",{onClick:c},[(o(!0),l(I,null,f(d.value,(n,r)=>(o(),i(t,{key:r,config:n,"iterator-index":[...e.iteratorIndex||[],r],"iterator-container-id":e.config.id?[...e.iteratorContainerId||[],e.config.id]:[...e.iteratorContainerId||[]],"page-fragment-container-id":e.pageFragmentContainerId},null,8,["config","iterator-index","iterator-container-id","page-fragment-container-id"]))),128))]))}}))}}});
//# sourceMappingURL=IteratorContainer-legacy-Nd531-AH.js.map
