System.register(["./index-legacy-DiDdhM_Z.js","./plugin-vueexport-helper-legacy-B_5PT-ZI.js","./use-component-status-legacy-DgEmIxxD.js"],function(e,t){"use strict";var r,n,i,a,o,c,d,s,g,m,l,p,u,f,I,y,C,x,N,b;return{setters:[e=>{r=e.d,n=e.u,i=e.i,a=e.f,o=e.n,c=e.g,d=e.j,s=e.o,g=e.k,m=e.w,l=e.C,p=e.D,u=e.c,f=e.F,I=e.e,y=e.b},e=>{C=e._,x=e.u,N=e.r},e=>{b=e.u}],execute:function(){const t=r({name:"tmagic-iterator-container-item",props:{config:{type:Object,required:!0},iteratorIndex:Array,iteratorContainerId:Array,containerIndex:Number,pageFragmentContainerId:[String,Number],index:Number,model:{type:Object,default:()=>({})}},setup(e){const t=i("app"),r=n({componentType:"container",app:t}),{style:a,className:o}=b(e);return{style:a,className:o,containerComponent:r}}}),j=r({name:"tmagic-iterator-container",components:{IteratorItem:C(t,[["render",function(e,t,r,n,i,g){return s(),a(d(e.containerComponent),{style:c(e.style),class:o(e.className),config:e.config,"iterator-index":e.iteratorIndex,"iterator-container-id":e.iteratorContainerId,"page-fragment-container-id":e.pageFragmentContainerId},null,8,["style","class","config","iterator-index","iterator-container-id","page-fragment-container-id"])}]])},props:{config:{type:Object,required:!0},iteratorIndex:Array,iteratorContainerId:Array,containerIndex:Number,pageFragmentContainerId:[String,Number],model:{type:Object,default:()=>({})}},setup(e){const{app:t,node:r}=x(e);N(r);const n=g(()=>{let{iteratorData:r=[]}=e.config;const{itemConfig:n,dsField:i,items:a}=e.config;return(!Array.isArray(r)||"string"==typeof r[0]&&r[0].startsWith(p))&&(r=[]),"editor"!==t?.platform||r.length||r.push({}),r.map(e=>{const r="editor"===t?.platform||(t?.dataSourceManager?.compliedIteratorItemConds(e,n,i)??!0);return{items:t?.dataSourceManager?.compliedIteratorItems(e,a,i)??a,condResult:r,style:{position:"relative",left:0,top:0,...n.style}}})});return m(n,r=>{if(!e.config.id)return;const n=t?.getNode(e.config.id,{iteratorContainerId:e.iteratorContainerId,iteratorIndex:e.iteratorIndex,pageFragmentContainerId:e.pageFragmentContainerId});n&&(n.resetNodes(),r.forEach((e,t)=>{n.setNodes(e.items,t)}))},{immediate:!0}),{configs:n,clickHandler:()=>{t&&r&&t.emit(`${l}click`,r)}}}});e("default",C(j,[["render",function(e,t,r,n,i,o){const c=y("IteratorItem");return s(),u("div",{onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t))},[(s(!0),u(f,null,I(e.configs,(t,r)=>(s(),a(c,{key:r,config:t,"iterator-index":[...e.iteratorIndex||[],r],"iterator-container-id":e.config.id?[...e.iteratorContainerId||[],e.config.id]:[...e.iteratorContainerId||[]],"page-fragment-container-id":e.pageFragmentContainerId},null,8,["config","iterator-index","iterator-container-id","page-fragment-container-id"]))),128))])}]]))}}});
//# sourceMappingURL=IteratorContainer-legacy-Aw16tKw1.js.map
