System.register(["./index-legacy-DiDdhM_Z.js","./plugin-vueexport-helper-legacy-B_5PT-ZI.js","./use-component-status-legacy-DgEmIxxD.js"],function(e,t){"use strict";var n,s,r,o,i,c,a,l,d,u,g,m,p,f;return{setters:[e=>{n=e.d,s=e.i,r=e.u,o=e.w,i=e.I,c=e.v,a=e.f,l=e.g,d=e.n,u=e.j,g=e.o},e=>{m=e.a,p=e._},e=>{f=e.u}],execute:function(){const t=(()=>{const e=new Map;return(t,n,s=globalThis.document)=>{let r=e.get(s);if(r||(r=new Map,e.set(s,r)),r.get(t))return r.get(t);const o=new Promise((e,r)=>{const o=s.createElement("script");o.type="text/javascript",n&&(o.crossOrigin=n),o.src=t,s.body.appendChild(o),o.onload=()=>{e()},o.onerror=()=>{r(new Error("加载失败"))},setTimeout(()=>{r(new Error("timeout"))},6e4)}).catch(e=>{throw r.delete(t),e});return r.set(t,o),r.get(t)}})(),y=(()=>{const e=new Map;return(t,n=globalThis.document)=>{let s=e.get(n);if(s||(s=new Map,e.set(n,s)),s.get(t))return s.get(t);const r=new Promise((e,s)=>{const r=n.createElement("link");r.rel="stylesheet",r.href=t,n.head.appendChild(r),r.onload=()=>{e()},r.onerror=()=>{s(new Error("加载失败"))},setTimeout(()=>{s(new Error("timeout"))},6e4)}).catch(e=>{throw s.delete(t),e});return s.set(t,r),s.get(t)}})(),w=n({name:"tmagic-page",props:{config:{type:Object,required:!0},model:{type:Object,default:()=>({})}},setup(e){const n=s("app");var a;"browser"===n?.jsEngine&&((e=>{if(e.cssFile&&y(e.cssFile),Array.isArray(e.cssFiles)&&e.cssFiles.map(e=>y(e.url)),e.css){const t=window.document.createElement("style");t.innerHTML=e.css,window.document.head.appendChild(t)}})(e.config),a=e.config,Array.isArray(a.jsFiles)&&a.jsFiles.map(e=>t(e.url)));const l=r({componentType:"container",app:n}),{style:d,className:u}=f(e),g=()=>{window.location.reload()};return o(()=>e.config,async(t,s)=>{const r=m({config:{...t,[i]:!0}},n);if(t.id!==s?.id&&(r?.setInstance({config:e.config,refresh:g}),r?.emit("created")),await c(),t.id!==s?.id){r?.emit("mounted");const e=m({config:{...s,[i]:!0}},n);e?.emit("destroy")}},{immediate:!0}),{style:d,className:u,containerComponent:l,IS_DSL_NODE_KEY:i}}});e("default",p(w,[["render",function(e,t,n,s,r,o){return g(),a(u(e.containerComponent),{class:d(e.className),style:l(e.style),"data-tmagic-id":e.config.id,config:{...e.config,[e.IS_DSL_NODE_KEY]:!1}},null,8,["class","style","data-tmagic-id","config"])}]]))}}});
//# sourceMappingURL=index-legacy-zam7_a6i.js.map
