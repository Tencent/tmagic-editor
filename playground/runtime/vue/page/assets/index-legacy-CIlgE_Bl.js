System.register(["./index-legacy-CZS5_bp_.js","./use-app-legacy-BFMhJiqn.js","./use-component-status-legacy-ByGCYcDR.js"],function(e,t){"use strict";var n,s,r,o,i,c,a,l,d,g,u,m,p,f;return{setters:[e=>{n=e.d,s=e.i,r=e.u,o=e.w,i=e.e,c=e.f,a=e.j,l=e.n,d=e.g,g=e.o,u=e.I,m=e.v},e=>{p=e.a},e=>{f=e.u}],execute:function(){const t=(()=>{const e=new Map;return(t,n,s=globalThis.document)=>{let r=e.get(s);if(r||(r=new Map,e.set(s,r)),r.get(t))return r.get(t);const o=new Promise((e,r)=>{const o=s.createElement("script");o.type="text/javascript",n&&(o.crossOrigin=n),o.src=t,s.body.appendChild(o),o.onload=()=>{e()},o.onerror=()=>{r(new Error("加载失败"))},setTimeout(()=>{r(new Error("timeout"))},6e4)}).catch(e=>{throw r.delete(t),e});return r.set(t,o),r.get(t)}})(),w=(()=>{const e=new Map;return(t,n=globalThis.document)=>{let s=e.get(n);if(s||(s=new Map,e.set(n,s)),s.get(t))return s.get(t);const r=new Promise((e,s)=>{const r=n.createElement("link");r.rel="stylesheet",r.href=t,n.head.appendChild(r),r.onload=()=>{e()},r.onerror=()=>{s(new Error("加载失败"))},setTimeout(()=>{s(new Error("timeout"))},6e4)}).catch(e=>{throw s.delete(t),e});return s.set(t,r),s.get(t)}})();e("default",n({name:"tmagic-page",__name:"index",props:{config:{},model:{default:()=>({})}},setup(e){const n=e,y=s("app");var h;"browser"===y?.jsEngine&&((e=>{if(e.cssFile&&w(e.cssFile),Array.isArray(e.cssFiles)&&e.cssFiles.map(e=>w(e.url)),e.css){const t=window.document.createElement("style");t.innerHTML=e.css,window.document.head.appendChild(t)}})(n.config),h=n.config,Array.isArray(h.jsFiles)&&h.jsFiles.map(e=>t(e.url)));const j=r({componentType:"container",app:y}),{style:E,className:F}=f(n),T=()=>{window.location.reload()};return o(()=>n.config,async(e,t)=>{const s=p({config:{...e,[u]:!0}},y);if(e.id!==t?.id&&(s?.setInstance({config:n.config,refresh:T}),s?.emit("created")),await m(),e.id!==t?.id){s?.emit("mounted");const e=p({config:{...t,[u]:!0}},y);e?.emit("destroy")}},{immediate:!0}),(t,n)=>(g(),i(d(c(j)),{class:l(c(F)),style:a(c(E)),"data-tmagic-id":e.config.id,config:{...e.config,[c(u)]:!1}},null,8,["class","style","data-tmagic-id","config"]))}}))}}});
//# sourceMappingURL=index-legacy-CIlgE_Bl.js.map
