{"version":3,"file":"cssMode-Bdi1yyIQ.js","sources":["../../../node_modules/.pnpm/monaco-editor@0.55.1/node_modules/monaco-editor/esm/vs/language/css/workerManager.js","../../../node_modules/.pnpm/monaco-editor@0.55.1/node_modules/monaco-editor/esm/vs/language/css/cssMode.js"],"sourcesContent":["import { createWebWorker } from '../../common/workers.js';\n\nconst STOP_WHEN_IDLE_FOR = 2 * 60 * 1e3;\nclass WorkerManager {\n  constructor(defaults) {\n    this._defaults = defaults;\n    this._worker = null;\n    this._client = null;\n    this._idleCheckInterval = window.setInterval(() => this._checkIfIdle(), 30 * 1e3);\n    this._lastUsedTime = 0;\n    this._configChangeListener = this._defaults.onDidChange(() => this._stopWorker());\n  }\n  _stopWorker() {\n    if (this._worker) {\n      this._worker.dispose();\n      this._worker = null;\n    }\n    this._client = null;\n  }\n  dispose() {\n    clearInterval(this._idleCheckInterval);\n    this._configChangeListener.dispose();\n    this._stopWorker();\n  }\n  _checkIfIdle() {\n    if (!this._worker) {\n      return;\n    }\n    let timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n    if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n      this._stopWorker();\n    }\n  }\n  _getClient() {\n    this._lastUsedTime = Date.now();\n    if (!this._client) {\n      this._worker = createWebWorker({\n        // module that exports the create() method and returns a `CSSWorker` instance\n        moduleId: \"vs/language/css/cssWorker\",\n        createWorker: () => new Worker(new URL('css.worker.js', import.meta.url), { type: \"module\" }),\n        label: this._defaults.languageId,\n        // passed in to the create() method\n        createData: {\n          options: this._defaults.options,\n          languageId: this._defaults.languageId\n        }\n      });\n      this._client = this._worker.getProxy();\n    }\n    return this._client;\n  }\n  getLanguageServiceWorker(...resources) {\n    let _client;\n    return this._getClient().then((client) => {\n      _client = client;\n    }).then((_) => {\n      if (this._worker) {\n        return this._worker.withSyncedResources(resources);\n      }\n    }).then((_) => _client);\n  }\n}\n\nexport { WorkerManager };\n","import { WorkerManager } from './workerManager.js';\nimport { CompletionAdapter, HoverAdapter, DocumentHighlightAdapter, DefinitionAdapter, ReferenceAdapter, DocumentSymbolAdapter, RenameAdapter, DocumentColorAdapter, FoldingRangeAdapter, DiagnosticsAdapter, SelectionRangeAdapter, DocumentFormattingEditProvider, DocumentRangeFormattingEditProvider } from '../common/lspLanguageFeatures.js';\nexport { DocumentLinkAdapter, fromPosition, fromRange, toRange, toTextEdit } from '../common/lspLanguageFeatures.js';\nimport '../../editor/browser/coreCommands.js';\nimport '../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport '../../editor/browser/widget/diffEditor/diffEditor.contribution.js';\nimport '../../editor/contrib/anchorSelect/browser/anchorSelect.js';\nimport '../../editor/contrib/bracketMatching/browser/bracketMatching.js';\nimport '../../editor/contrib/caretOperations/browser/caretOperations.js';\nimport '../../editor/contrib/caretOperations/browser/transpose.js';\nimport '../../editor/contrib/clipboard/browser/clipboard.js';\nimport '../../editor/contrib/codeAction/browser/codeActionContributions.js';\nimport '../../editor/contrib/codelens/browser/codelensController.js';\nimport '../../editor/contrib/colorPicker/browser/colorPickerContribution.js';\nimport '../../editor/contrib/comment/browser/comment.js';\nimport '../../editor/contrib/contextmenu/browser/contextmenu.js';\nimport '../../editor/contrib/cursorUndo/browser/cursorUndo.js';\nimport '../../editor/contrib/dnd/browser/dnd.js';\nimport '../../editor/contrib/dropOrPasteInto/browser/copyPasteContribution.js';\nimport '../../editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution.js';\nimport '../../editor/contrib/find/browser/findController.js';\nimport '../../editor/contrib/folding/browser/folding.js';\nimport '../../editor/contrib/fontZoom/browser/fontZoom.js';\nimport '../../editor/contrib/format/browser/formatActions.js';\nimport '../../editor/contrib/documentSymbols/browser/documentSymbols.js';\nimport '../../editor/contrib/inlineCompletions/browser/inlineCompletions.contribution.js';\nimport '../../editor/contrib/inlineProgress/browser/inlineProgress.js';\nimport '../../editor/contrib/gotoSymbol/browser/goToCommands.js';\nimport '../../editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js';\nimport '../../editor/contrib/gotoError/browser/gotoError.js';\nimport '../../editor/contrib/gpu/browser/gpuActions.js';\nimport '../../editor/contrib/hover/browser/hoverContribution.js';\nimport '../../editor/contrib/indentation/browser/indentation.js';\nimport '../../editor/contrib/inlayHints/browser/inlayHintsContribution.js';\nimport '../../editor/contrib/inPlaceReplace/browser/inPlaceReplace.js';\nimport '../../editor/contrib/insertFinalNewLine/browser/insertFinalNewLine.js';\nimport '../../editor/contrib/lineSelection/browser/lineSelection.js';\nimport '../../editor/contrib/linesOperations/browser/linesOperations.js';\nimport '../../editor/contrib/linkedEditing/browser/linkedEditing.js';\nimport '../../editor/contrib/links/browser/links.js';\nimport '../../editor/contrib/longLinesHelper/browser/longLinesHelper.js';\nimport '../../editor/contrib/middleScroll/browser/middleScroll.contribution.js';\nimport '../../editor/contrib/multicursor/browser/multicursor.js';\nimport '../../editor/contrib/parameterHints/browser/parameterHints.js';\nimport '../../editor/contrib/placeholderText/browser/placeholderText.contribution.js';\nimport '../../editor/contrib/rename/browser/rename.js';\nimport '../../editor/contrib/sectionHeaders/browser/sectionHeaders.js';\nimport '../../editor/contrib/semanticTokens/browser/documentSemanticTokens.js';\nimport '../../editor/contrib/semanticTokens/browser/viewportSemanticTokens.js';\nimport '../../editor/contrib/smartSelect/browser/smartSelect.js';\nimport '../../editor/contrib/snippet/browser/snippetController2.js';\nimport '../../editor/contrib/stickyScroll/browser/stickyScrollContribution.js';\nimport '../../editor/contrib/suggest/browser/suggestController.js';\nimport '../../editor/contrib/suggest/browser/suggestInlineCompletions.js';\nimport '../../editor/contrib/tokenization/browser/tokenization.js';\nimport '../../editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js';\nimport '../../editor/contrib/unicodeHighlighter/browser/unicodeHighlighter.js';\nimport '../../editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js';\nimport '../../editor/contrib/wordHighlighter/browser/wordHighlighter.js';\nimport '../../editor/contrib/wordOperations/browser/wordOperations.js';\nimport '../../editor/contrib/wordPartOperations/browser/wordPartOperations.js';\nimport '../../editor/contrib/readOnlyMessage/browser/contribution.js';\nimport '../../editor/contrib/diffEditorBreadcrumbs/browser/contribution.js';\nimport '../../editor/contrib/floatingMenu/browser/floatingMenu.contribution.js';\nimport '../../editor/common/standaloneStrings.js';\nimport '../../base/browser/ui/codicons/codicon/codicon.css';\nimport '../../base/browser/ui/codicons/codicon/codicon-modifiers.css';\nimport '../../editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js';\nimport '../../editor/standalone/browser/inspectTokens/inspectTokens.js';\nimport '../../editor/standalone/browser/quickAccess/standaloneHelpQuickAccess.js';\nimport '../../editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js';\nimport '../../editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js';\nimport '../../editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess.js';\nimport '../../editor/standalone/browser/referenceSearch/standaloneReferenceSearch.js';\nimport '../../editor/standalone/browser/toggleHighContrast/toggleHighContrast.js';\nimport { languages } from '../../editor/editor.api2.js';\n\nfunction setupMode(defaults) {\n  const disposables = [];\n  const providers = [];\n  const client = new WorkerManager(defaults);\n  disposables.push(client);\n  const worker = (...uris) => {\n    return client.getLanguageServiceWorker(...uris);\n  };\n  function registerProviders() {\n    const { languageId, modeConfiguration } = defaults;\n    disposeAll(providers);\n    if (modeConfiguration.completionItems) {\n      providers.push(\n        languages.registerCompletionItemProvider(\n          languageId,\n          new CompletionAdapter(worker, [\"/\", \"-\", \":\"])\n        )\n      );\n    }\n    if (modeConfiguration.hovers) {\n      providers.push(\n        languages.registerHoverProvider(languageId, new HoverAdapter(worker))\n      );\n    }\n    if (modeConfiguration.documentHighlights) {\n      providers.push(\n        languages.registerDocumentHighlightProvider(\n          languageId,\n          new DocumentHighlightAdapter(worker)\n        )\n      );\n    }\n    if (modeConfiguration.definitions) {\n      providers.push(\n        languages.registerDefinitionProvider(\n          languageId,\n          new DefinitionAdapter(worker)\n        )\n      );\n    }\n    if (modeConfiguration.references) {\n      providers.push(\n        languages.registerReferenceProvider(\n          languageId,\n          new ReferenceAdapter(worker)\n        )\n      );\n    }\n    if (modeConfiguration.documentSymbols) {\n      providers.push(\n        languages.registerDocumentSymbolProvider(\n          languageId,\n          new DocumentSymbolAdapter(worker)\n        )\n      );\n    }\n    if (modeConfiguration.rename) {\n      providers.push(\n        languages.registerRenameProvider(languageId, new RenameAdapter(worker))\n      );\n    }\n    if (modeConfiguration.colors) {\n      providers.push(\n        languages.registerColorProvider(\n          languageId,\n          new DocumentColorAdapter(worker)\n        )\n      );\n    }\n    if (modeConfiguration.foldingRanges) {\n      providers.push(\n        languages.registerFoldingRangeProvider(\n          languageId,\n          new FoldingRangeAdapter(worker)\n        )\n      );\n    }\n    if (modeConfiguration.diagnostics) {\n      providers.push(\n        new DiagnosticsAdapter(languageId, worker, defaults.onDidChange)\n      );\n    }\n    if (modeConfiguration.selectionRanges) {\n      providers.push(\n        languages.registerSelectionRangeProvider(\n          languageId,\n          new SelectionRangeAdapter(worker)\n        )\n      );\n    }\n    if (modeConfiguration.documentFormattingEdits) {\n      providers.push(\n        languages.registerDocumentFormattingEditProvider(\n          languageId,\n          new DocumentFormattingEditProvider(worker)\n        )\n      );\n    }\n    if (modeConfiguration.documentRangeFormattingEdits) {\n      providers.push(\n        languages.registerDocumentRangeFormattingEditProvider(\n          languageId,\n          new DocumentRangeFormattingEditProvider(worker)\n        )\n      );\n    }\n  }\n  registerProviders();\n  disposables.push(asDisposable(providers));\n  return asDisposable(disposables);\n}\nfunction asDisposable(disposables) {\n  return { dispose: () => disposeAll(disposables) };\n}\nfunction disposeAll(disposables) {\n  while (disposables.length) {\n    disposables.pop().dispose();\n  }\n}\n\nexport { CompletionAdapter, DefinitionAdapter, DiagnosticsAdapter, DocumentColorAdapter, DocumentFormattingEditProvider, DocumentHighlightAdapter, DocumentRangeFormattingEditProvider, DocumentSymbolAdapter, FoldingRangeAdapter, HoverAdapter, ReferenceAdapter, RenameAdapter, SelectionRangeAdapter, WorkerManager, setupMode };\n"],"names":["STOP_WHEN_IDLE_FOR","WorkerManager","defaults","createWebWorker","resources","_client","client","_","setupMode","disposables","providers","worker","uris","registerProviders","languageId","modeConfiguration","disposeAll","languages","CompletionAdapter","HoverAdapter","DocumentHighlightAdapter","DefinitionAdapter","ReferenceAdapter","DocumentSymbolAdapter","RenameAdapter","DocumentColorAdapter","FoldingRangeAdapter","DiagnosticsAdapter","SelectionRangeAdapter","DocumentFormattingEditProvider","DocumentRangeFormattingEditProvider","asDisposable"],"mappings":"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","x_google_ignoreList":[0,1]}