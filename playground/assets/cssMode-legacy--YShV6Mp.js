System.register(["./index-legacy-C7XB_Vff.js","./lspLanguageFeatures-legacy-kbbHemLG.js"],function(e,t){"use strict";var r,i,n,s,o,a,d,g,u,h,l,c,p,m,_;return{setters:[e=>{r=e.bL,i=e.bM},t=>{n=t.C,s=t.H,o=t.D,a=t.a,d=t.R,g=t.b,u=t.c,h=t.d,l=t.F,c=t.e,p=t.S,m=t.f,_=t.g,e({CompletionAdapter:t.C,DefinitionAdapter:t.a,DiagnosticsAdapter:t.e,DocumentColorAdapter:t.d,DocumentFormattingEditProvider:t.f,DocumentHighlightAdapter:t.D,DocumentLinkAdapter:t.h,DocumentRangeFormattingEditProvider:t.g,DocumentSymbolAdapter:t.b,FoldingRangeAdapter:t.F,HoverAdapter:t.H,ReferenceAdapter:t.R,RenameAdapter:t.c,SelectionRangeAdapter:t.S,fromPosition:t.i,fromRange:t.j,toRange:t.t,toTextEdit:t.k})}],execute:function(){e("setupMode",function(e){const t=[],r=[],v=new w(e);t.push(v);const D=(...e)=>v.getLanguageServiceWorker(...e);return function(){const{languageId:t,modeConfiguration:w}=e;k(r),w.completionItems&&r.push(i.registerCompletionItemProvider(t,new n(D,["/","-",":"]))),w.hovers&&r.push(i.registerHoverProvider(t,new s(D))),w.documentHighlights&&r.push(i.registerDocumentHighlightProvider(t,new o(D))),w.definitions&&r.push(i.registerDefinitionProvider(t,new a(D))),w.references&&r.push(i.registerReferenceProvider(t,new d(D))),w.documentSymbols&&r.push(i.registerDocumentSymbolProvider(t,new g(D))),w.rename&&r.push(i.registerRenameProvider(t,new u(D))),w.colors&&r.push(i.registerColorProvider(t,new h(D))),w.foldingRanges&&r.push(i.registerFoldingRangeProvider(t,new l(D))),w.diagnostics&&r.push(new c(t,D,e.onDidChange)),w.selectionRanges&&r.push(i.registerSelectionRangeProvider(t,new p(D))),w.documentFormattingEdits&&r.push(i.registerDocumentFormattingEditProvider(t,new m(D))),w.documentRangeFormattingEdits&&r.push(i.registerDocumentRangeFormattingEditProvider(t,new _(D)))}(),t.push(f(r)),f(t)});class w{constructor(e){this._defaults=e,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>12e4&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=r({moduleId:"vs/language/css/cssWorker",createWorker:()=>new Worker(new URL("/tmagic-editor/playground/assets/css.worker-CeqXzFOx.js",t.meta.url),{type:"module"}),label:this._defaults.languageId,createData:{options:this._defaults.options,languageId:this._defaults.languageId}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...e){let t;return this._getClient().then(e=>{t=e}).then(t=>{if(this._worker)return this._worker.withSyncedResources(e)}).then(e=>t)}}function f(e){return{dispose:()=>k(e)}}function k(e){for(;e.length;)e.pop().dispose()}e("WorkerManager",w)}}});
//# sourceMappingURL=cssMode-legacy--YShV6Mp.js.map
